(this.webpackJsonpinstamark=this.webpackJsonpinstamark||[]).push([[0],{73:function(e,t,c){},74:function(e,t,c){},75:function(e,t,c){},87:function(e,t,c){},88:function(e,t,c){},89:function(e,t,c){},90:function(e,t,c){},91:function(e,t,c){},92:function(e,t,c){},93:function(e,t,c){},94:function(e,t,c){},95:function(e,t,c){},97:function(e,t,c){"use strict";c.r(t);var a=c(2),n=c.n(a),s=c(38),i=c.n(s),r=(c(73),c(74),c(49)),o=c(14),l=c(9),A=(c(75),"data:image/jpeg;base64,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"),j=c(108),m=c(55),u=c.n(m),d=c(15),b=c(32),p=Object(b.b)({name:"user",initialState:{user:null},reducers:{login:function(e,t){e.user=t.payload},logout:function(e){e.user=null}}}),O=p.actions,f=O.login,h=O.logout,x=function(e){return e.user.user},g=p.reducer,v=c(26),N=v.a.initializeApp({apiKey:"AIzaSyCmShBa0KNEAN78xp6xfyw3lQ4vVy5KiK8",authDomain:"instamark-me.firebaseapp.com",projectId:"instamark-me",storageBucket:"instamark-me.appspot.com",messagingSenderId:"473715649516",appId:"1:473715649516:web:8d3a908a84ad16453beec9"}).firestore(),y=v.a.storage(),S=v.a.auth(),k=c(3);function C(){var e=Object(o.f)(),t=Object(a.useState)(!1),c=Object(l.a)(t,2),n=c[0],s=c[1],i=Object(d.c)(x),r=Object(d.b)();return Object(k.jsxs)("div",{className:"header",children:[Object(k.jsx)("div",{className:"logo",children:Object(k.jsx)("img",{onClick:function(){return e.push("/")},src:A,alt:"logo-name"})}),Object(k.jsxs)("div",{className:"header-info",children:[Object(k.jsx)(j.a,{onClick:function(){r(h()),S.signOut()},src:i.profilePic||i.displayName[0]}),Object(k.jsx)("h4",{onClick:function(){return e.push("/")},children:"Home"}),Object(k.jsx)("h4",{onClick:function(){return e.push("/messages")},children:"Messages"}),Object(k.jsx)(u.a,{className:n?"red":"transparent",onClick:function(){s(!n)}})]})]})}c(87),c(88);var R=c(56),U=c.n(R),D=c(57),K=c.n(D),P=c(59),T=c.n(P),E=c(58),W=c.n(E);c(89);function L(e){e.id;var t=e.name,c=e.comment,a=e.timestamp;return Object(k.jsxs)("div",{className:"messages",children:[Object(k.jsx)("h5",{children:t}),Object(k.jsx)("span",{children:new Date(null===a||void 0===a?void 0:a.toDate()).toLocaleTimeString()}),Object(k.jsx)("p",{children:c})]})}var B=c(60),I=c.n(B);function w(e){var t=e.postId,c=e.timestamp,n=e.url,s=e.caption,i=Object(a.useState)(0),r=Object(l.a)(i,2),o=r[0],A=r[1],m=Object(a.useState)(""),u=Object(l.a)(m,2),b=u[0],p=u[1],O=Object(a.useState)(""),f=Object(l.a)(O,2),h=f[0],g=f[1],y=Object(a.useState)([]),S=Object(l.a)(y,2),C=S[0],R=S[1],D=Object(d.c)(x);return Object(a.useEffect)((function(){N.collection("posts").doc(t).collection("imageComments").onSnapshot((function(e){R(e.docs.map((function(e){return{id:e.id,data:e.data()}})))}))}),[t]),Object(k.jsxs)("div",{className:"image-section",children:[Object(k.jsxs)("div",{className:"person-info",children:[Object(k.jsx)(j.a,{src:D.profilePic||D.displayName[0],alt:"user"}),Object(k.jsx)("h5",{children:D.displayName||D.email[0]})]}),Object(k.jsx)("div",{className:"image-time",children:Object(k.jsx)("span",{children:"Posted at: ".concat(new Date(null===c||void 0===c?void 0:c.toDate()).toLocaleTimeString())})}),Object(k.jsx)("div",{className:"image-info",children:Object(k.jsx)("img",{src:n,alt:"uploaded"})}),Object(k.jsxs)("div",{className:"icons",children:[Object(k.jsx)("button",{style:{cursor:"pointer"},disabled:1===o,onClick:function(){A(o+1)},children:Object(k.jsxs)("span",{className:o?"count-red":"like",children:[Object(k.jsx)(U.a,{className:o?"red":""}),o]})}),Object(k.jsx)(K.a,{}),Object(k.jsx)(W.a,{onClick:function(){p(!b)},style:{cursor:"pointer"}}),Object(k.jsx)(T.a,{})]}),Object(k.jsxs)("div",{className:"caption-section",children:[Object(k.jsx)(I.a,{}),Object(k.jsx)("p",{className:"caption-text",children:s})]}),Object(k.jsxs)("div",{className:b?"comments":"comments-section",children:[Object(k.jsxs)("div",{className:"comments-messages",children:[Object(k.jsx)("h5",{children:"Hi ".concat(D.displayName)}),Object(k.jsxs)("form",{children:[Object(k.jsx)("input",{type:"text",placeholder:"post a comment",className:"comment-input",value:h,onChange:function(e){return g(e.target.value)}}),Object(k.jsx)("button",{onClick:function(e){e.preventDefault(),N.collection("posts").doc(t).collection("imageComments").add({comment:h,timestamp:v.a.firestore.FieldValue.serverTimestamp()}),g("")}})]})]}),Object(k.jsx)("div",{className:"messages-section",children:C.map((function(e){var t=e.id,c=e.data,a=c.comment,n=c.timestamp;return Object(k.jsx)(L,{id:t,comment:a,name:D.displayName,timestamp:n},t)}))})]})]})}function V(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),c=t[0],n=t[1];return Object(a.useEffect)((function(){N.collection("posts").orderBy("timestamp","asc").onSnapshot((function(e){n(e.docs.map((function(e){return{id:e.id,data:e.data()}})))}))}),[]),Object(k.jsx)("div",{className:"mainOption",children:Object(k.jsx)("div",{className:"bottom-img",children:c.map((function(e){var t=e.id,c=e.data,a=c.caption,n=c.imageUrl,s=c.timestamp;return Object(k.jsx)(w,{postId:t,timestamp:s,url:n,caption:a},t)}))})})}c(90);function Q(){var e=Object(a.useState)(null),t=Object(l.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(""),i=Object(l.a)(s,2),r=i[0],o=i[1],A=Object(a.useState)(0),j=Object(l.a)(A,2),m=j[0],u=j[1],d=Object(a.useState)(""),b=Object(l.a)(d,2),p=b[0],O=b[1],f=["image/jpeg","image/png"];return Object(k.jsxs)("div",{className:"imageUpload",children:[Object(k.jsx)("img",{src:c,alt:""}),Object(k.jsx)("p",{children:r}),Object(k.jsx)("progress",{className:"imageUpload-progress",value:m}),Object(k.jsx)("input",{type:"text",placeholder:"Enter caption",value:p,onChange:function(e){return O(e.target.value)}}),Object(k.jsx)("input",{type:"file",className:"file",onChange:function(e){var t=e.target.files[0];t&&f.includes(t.type)?(n(t),o("")):(n(null),o("Something went wrong please select a valid type png or jpg")),console.log(t)}}),Object(k.jsx)("button",{onClick:function(){y.ref("images/".concat(c.name)).put(c).on("state_change",(function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);u(t)}),(function(e){alert(e.message)}),(function(){y.ref("images").child(c.name).getDownloadURL().then((function(e){N.collection("posts").add({timestamp:v.a.firestore.FieldValue.serverTimestamp(),caption:p,imageUrl:e})})),u(0),O(""),n(null)}))},className:"btn-upload",children:"Upload"})]})}c(91),c(92);var F=c(61),G=c.n(F),M=c.p+"static/media/image1.c6196c6b.jpg",q=c.p+"static/media/image2.c84c35b7.jpg",Z=c.p+"static/media/image3.165439fe.jpg",J=c.p+"static/media/image4.4059be55.jpg";function X(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),c=t[0],n=t[1],s=Object(d.c)(x);return Object(k.jsxs)("div",{className:"hero",children:[Object(k.jsxs)("div",{className:"hero-profiles ".concat(c?"back-image":""),onClick:function(){n(!c)},children:[Object(k.jsx)("img",{src:J,alt:"me"}),Object(k.jsx)(G.a,{className:"hero-plus"}),Object(k.jsx)("h6",{children:s.displayName||s.email})]}),Object(k.jsxs)("div",{className:"hero-profiles",children:[Object(k.jsx)("img",{src:Z,alt:"me"}),Object(k.jsx)("h6",{children:"Story"})]}),Object(k.jsxs)("div",{className:"hero-profiles",children:[Object(k.jsx)("img",{src:q,alt:"me"}),Object(k.jsx)("h6",{children:"Lena"})]}),Object(k.jsxs)("div",{className:"hero-profiles",children:[Object(k.jsx)("img",{src:M,alt:"me"}),Object(k.jsx)("h6",{children:"World"})]})]})}function z(){var e=Object(d.c)(x);return Object(k.jsxs)("div",{className:"main",children:[Object(k.jsx)(X,{}),Object(k.jsx)("div",{className:"top-info",children:Object(k.jsx)("h1",{children:" Welcome ".concat(e.displayName)})}),Object(k.jsx)(V,{}),Object(k.jsx)(Q,{})]})}c(93);function Y(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(""),i=Object(l.a)(s,2),r=i[0],o=i[1],j=Object(a.useState)(""),m=Object(l.a)(j,2),u=m[0],b=m[1],p=Object(a.useState)(""),O=Object(l.a)(p,2),f=O[0],h=O[1],x=Object(d.b)();return Object(k.jsxs)("div",{className:"login",children:[Object(k.jsx)("img",{src:A,alt:"logo"}),Object(k.jsxs)("form",{children:[Object(k.jsx)("input",{type:"text",placeholder:"Name",value:c,onChange:function(e){return n(e.target.value)}}),Object(k.jsx)("input",{type:"email",placeholder:"Email",value:r,onChange:function(e){return o(e.target.value)}}),Object(k.jsx)("input",{type:"password",placeholder:"Password",value:u,onChange:function(e){return b(e.target.value)}}),Object(k.jsx)("input",{type:"text",placeholder:"Profile Picture by URL optional",value:f,onChange:function(e){return h(e.target.value)}}),Object(k.jsx)("button",{onClick:function(e){if(e.preventDefault(),!u.length||u.length<=3||!r.length||r.length<4||!c.length||c.length<=3)return"Form is invalid";S.signInWithEmailAndPassword(r,u).then((function(e){x(g({email:e.user.email,uid:e.user.uid,displayName:e.user.displayName,profilePic:e.user.photoURL}))}))},children:"Login"}),Object(k.jsx)("span",{onClick:function(e){if(e.preventDefault(),!c.length||!r.length||!u.length)return alert("Form is incorrect");S.createUserWithEmailAndPassword(r,u).then((function(e){e.user.updateProfile({displayName:c,photoURL:f}).then((function(){x(g({email:e.user.email,uid:e.user.uid,displayName:c,photoURL:f}))}))})).catch((function(e){return alert(e||alert("Something went wrong"))}))},className:"register",children:"Register"})]})]})}c(94);var H=c(62),_=c.n(H),$=(c(95),c(64)),ee=c.n($),te=c(63),ce=c.n(te);function ae(e){var t=e.id,c=e.forumMessage,n=e.timestamp,s=Object(d.c)(x),i=Object(a.useState)(""),r=Object(l.a)(i,2),o=r[0],A=r[1],j=Object(a.useState)(!1),m=Object(l.a)(j,2),u=m[0],b=m[1];return Object(k.jsxs)("div",{className:"forumOption",children:[Object(k.jsxs)("div",{className:"forumOption-header",children:[Object(k.jsx)("h5",{children:s.displayName||s.displayName[0]}),Object(k.jsxs)("div",{className:"time",children:[Object(k.jsx)("h5",{children:new Date(null===n||void 0===n?void 0:n.toDate()).toLocaleTimeString()}),Object(k.jsx)(_.a,{})]})]}),Object(k.jsx)("div",{className:"forumOption-posts",children:Object(k.jsxs)("form",{children:[Object(k.jsx)("p",{children:c}),u?Object(k.jsx)("input",{type:"text",placeholder:"Edit your forum message",className:"edit-input",value:o,onChange:function(e){return A(e.target.value)}}):Object(k.jsx)(ce.a,{style:{color:"var(--light-green-color)",cursor:"pointer"},onClick:function(){b(!0)}}),Object(k.jsx)("button",{onClick:function(e){e.preventDefault(),N.collection("forum").doc(t).set({message:o},{merge:!0}),A("")},style:{display:"none"}}),Object(k.jsx)(ee.a,{style:{color:"var(--red-color)",cursor:"pointer"},onClick:function(){N.collection("forum").doc(t).delete()}})]})})]})}function ne(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)([]),i=Object(l.a)(s,2),r=i[0],o=i[1];Object(a.useEffect)((function(){N.collection("forum").onSnapshot((function(e){o(e.docs.map((function(e){return{id:e.id,data:e.data()}})))}))}),[]);return Object(k.jsxs)("div",{className:"forum-section",children:[Object(k.jsx)("div",{className:"forum-header",children:Object(k.jsx)("h2",{children:"Forum"})}),Object(k.jsxs)("div",{className:"forum-input",children:[Object(k.jsxs)("form",{children:[Object(k.jsx)("input",{type:"text",placeholder:"Post your message here:",value:c,onChange:function(e){return n(e.target.value)}}),Object(k.jsx)("button",{className:"btn-forum",onClick:function(e){e.preventDefault(),N.collection("forum").add({message:c,timestamp:v.a.firestore.FieldValue.serverTimestamp()}),n("")},disabled:!c,children:"Submit"})]}),Object(k.jsx)("div",{className:"forum-messages",children:r.map((function(e){var t=e.id,c=e.data,a=c.message,n=c.timestamp;return Object(k.jsx)(ae,{id:t,forumMessage:a,timestamp:n},t)}))})]})]})}var se=function(){var e=Object(d.c)(x),t=Object(d.b)();return Object(a.useEffect)((function(){S.onAuthStateChanged((function(e){e&&t(f({email:e.email,uid:e.uid,displayName:e.displayName,profilePic:e.photoURL}))}))}),[t]),Object(k.jsx)(k.Fragment,{children:e?Object(k.jsx)("div",{className:"app",children:Object(k.jsxs)(r.a,{children:[Object(k.jsx)(C,{}),Object(k.jsx)(o.c,{children:Object(k.jsx)("div",{className:"home-body",children:Object(k.jsxs)(o.a,{path:"/",children:[Object(k.jsx)(ne,{}),Object(k.jsx)(z,{})]})})})]})}):Object(k.jsx)(Y,{})})},ie=Object(b.b)({name:"comment",initialState:{commentId:null},reducers:{setCommentInfo:function(e,t){e.commentId=t.payload.commentId}}}),re=(ie.actions.setCommentInfo,ie.reducer),oe=Object(b.a)({reducer:{user:g,comment:re}});i.a.render(Object(k.jsx)(n.a.StrictMode,{children:Object(k.jsx)(d.a,{store:oe,children:Object(k.jsx)(se,{})})}),document.getElementById("root"))}},[[97,1,2]]]);
//# sourceMappingURL=main.6117332b.chunk.js.map